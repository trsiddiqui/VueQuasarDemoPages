webpackJsonp([5],{203:function(e,t,o){o(476);var a=o(2)(o(439),o(488),null,null);e.exports=a.exports},431:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalEventBus=void 0;var a=o(4),i=function(e){return e&&e.__esModule?e:{default:e}}(a);(t.GlobalEventBus=new i.default).$on("hideLeft",function(e,t,o){e.$refs.layout.hideLeft()})},439:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),n=o(20),l=a(n),r=o(481),d=a(r),s=o(480),p=a(s),c=o(431);t.default={name:"index",components:{QUploader:i.QUploader,QTabs:i.QTabs,QTab:i.QTab,QTabPane:i.QTabPane,QAutocomplete:i.QAutocomplete,QCheckbox:i.QCheckbox,QAlert:i.QAlert,QLayout:i.QLayout,QToolbar:i.QToolbar,QToolbarTitle:i.QToolbarTitle,QBtn:i.QBtn,QIcon:i.QIcon,QList:i.QList,QListHeader:i.QListHeader,QItem:i.QItem,QItemSide:i.QItemSide,QItemMain:i.QItemMain,QAjaxBar:i.QAjaxBar,QCollapsible:i.QCollapsible,QSearch:i.QSearch,QDatetime:i.QDatetime,QDataTable:i.QDataTable,QInput:i.QInput,QSelect:i.QSelect,QTooltip:i.QTooltip,QCard:i.QCard,QCardTitle:i.QCardTitle,QCardMain:i.QCardMain,QCardSeparator:i.QCardSeparator,QToggle:i.QToggle,QItemTitle:i.QItemTitle,QItemTile:i.QItemTile,QFixedPosition:i.QFixedPosition,QModal:i.QModal,QStepper:i.QStepper,QStep:i.QStep,QStepperNavigation:i.QStepperNavigation,QInnerLoading:i.QInnerLoading,QOptionGroup:i.QOptionGroup,QPopover:i.QPopover,QChip:i.QChip,QSpinnerRadio:i.QSpinnerRadio,QSpinnerHourglass:i.QSpinnerHourglass,QLabel:i.QLabel,Toast:i.Toast,jQuery:l.default},validations:{},data:function(){return{pastedCsv:"",editMode:!1,data:p.default,mappings:[],mappingData:[],labSearchText:"",selectedLabsFrom:[],selectedLabsTo:[],selectedLab:[],saveDisabled:!0,mappingColumns:[{label:"From Code",field:"fromCode",type:"string",width:"60px",sort:function(e,t){return(e>t)-(e<t)}},{label:"From Description",field:"fromDescription",width:"100px",sort:function(e,t){return(e>t)-(e<t)}},{label:"To Code",field:"toCode",width:"60px",sort:function(e,t){return(e>t)-(e<t)}},{label:"To Description",field:"toDescription",width:"100px",sort:function(e,t){return(e>t)-(e<t)}},{label:"Type",field:"type",width:"40px",sort:function(e,t){return(e>t)-(e<t)}},{label:"Delete",field:"mappingId",width:"30px"}],mappingConfigs:{rowHeight:"55px",columnPicker:!1,messages:{noData:"No mappings defined"},pagination:{rowsPerPage:5,options:[5,10,15,30,50,500]}}}},methods:{populateMappings:function(){for(var e=0;e<d.default.length;e++)d.default[e].label='<div class="row"><div class="col-6"><b>'+d.default[e].from.Name+"</b>"+(d.default[e].from.srcCode?" ("+d.default[e].from.srcCode+")":"")+'</div><div class="col"><i class="q-icon fa fa-arrows-h mapping-icon-middle-fix" aria-hidden="true"></i></div><div class="col-5 justify-end right-align">'+(d.default[e].to.srcCode?"("+d.default[e].to.srcCode+") ":"")+"<b>"+d.default[e].to.Name+"</b></div></div>";this.mappings=d.default},getMap:function(e){(!e.data||e.data&&0===e.data.length)&&(e.data=this.data,this.mappings.push({}),this.mappings.splice(this.mappings.length-1,1))},closeMap:function(e){},emptyIfNotExists:function(e){d.default.find(function(t){return t.from.Name===e||t.to.Name===e})||(this.labSearchText="")},filterMappings:function(){var e=[],t=this;this.selectedLabsFrom.length?(e=d.default.filter(function(e){return t.selectedLabsFrom.includes(e.from.Name)}),this.mappings=e):this.mappings=d.default,this.selectedLabsTo.length&&(e=this.mappings.filter(function(e){return t.selectedLabsTo.includes(e.to.Name)}),this.mappings=e),this.selectedLabsFrom.length||this.selectedLabsTo.length||(this.mappings=d.default)},AddRow:function(e){e.data.unshift({fromCode:"",toCode:"",fromDescription:"",toDescription:"",type:"",mappingId:Math.max.apply(Math,e.data.map(function(e){return e.mappingId}))+1}),this.editMode=!0},deleteRow:function(e,t){e.data=e.data.filter(function(e){return e.mappingId!==t.data})},modalClosed:function(){setTimeout(function(){(0,l.default)(".modal:visible").length>0&&(0,l.default)(".modal:visible").hide()},1)},openModal:function(){this.$refs.basicModal.open(),window.setTimeout(function(){0===(0,l.default)(".modal:visible").length&&(0,l.default)(".modal").show()},100)},handleFileSelection:function(e){if(!e.target.files)return void alert("<p>At least one selected file is invalid - do not select any folders.</p><p>Please reselect and try again.</p>");console.log(window.URL.createObjectURL(e.target.files[0])),console.log(e.target.files[0].name),this.processFile(e.target.files[0])},dragOver:function(e){e.stopPropagation(),e.preventDefault()},handleFileDrop:function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;if(!t)return void alert("<p>At least one selected file is invalid - do not select any folders.</p><p>Please reselect and try again.</p>");for(var o=0;o<t.length;o++)try{this.processFile(t[o])}catch(e){return alert("<p>An unspecified file error occurred.</p><p>Selecting one or more folders will cause a file error.</p>"),void console.log("The following error occurred at i = "+o+": "+e)}},processFile:function(e){var t=new FileReader;t.onload=function(e){console.log(e.target.result)},t.readAsText(e)},emulateButtonClick:function(){document.getElementById("fileInput").click()},closeModal:function(){this.$refs.basicModal.close(),setTimeout(function(){(0,l.default)(".modal:visible").length>0&&(0,l.default)(".modal:visible").hide()},1)}},mounted:function(){c.GlobalEventBus.$emit("hideLeft",this.$root.masterPage),this.populateMappings()},beforeDestroy:function(){},created:function(){},destroyed:function(){},computed:{labOptionsFrom:function(){for(var e=[],t=0;t<d.default.length;t++){e.find(function(e){return e.label===d.default[t].from.Name})||e.push({label:d.default[t].from.Name,value:d.default[t].from.Name})}return e},labOptionsTo:function(){for(var e=[],t=0;t<d.default.length;t++){e.find(function(e){return e.label===d.default[t].to.Name})||e.push({label:d.default[t].to.Name,value:d.default[t].to.Name})}return e},allLabs:function(){var e=[];return e=d.default.map(function(e){return e.from.Name}),e.push.apply(e,d.default.map(function(e){return e.to.Name})),e=e.reduce(function(e,t){return e.indexOf(t)<0&&e.push(t),e},[]),e=e.map(function(e){return{label:e,value:e}})}},watch:{labSearchText:function(e){this.mappings=e?d.default.filter(function(t){return t.from.Name===e||t.to.Name===e}):d.default},selectedLabsFrom:function(){this.filterMappings()},selectedLabsTo:function(){this.filterMappings()}}}},467:function(e,t,o){t=e.exports=o(195)(),t.push([e.i,".table-custom-title{padding:8px;font-size:16px;font-weight:700;padding:10px 38px;margin-left:-26px}.fixedRow{top:120px;z-index:1;padding-right:105px;margin-left:-16px}.fixedPatientRow,.fixedRow{position:fixed;background:#fff;width:100%}.fixedPatientRow{top:60px;z-index:2}.right-align{text-align:right}.q-collapsible{background:#eaeaea}.q-collapsible-sub-item{background:#fff}:root .q-btn-rectangle,_:-ms-fullscreen{min-width:110px;padding:6px}:root .q-toast-message,_:-ms-fullscreen{min-width:300px}.items-right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.floatover{float:right;margin:-38px 23px}.bold{font-weight:700;font-size:18px}.fixed-top-right{z-index:3}.fixedRowSupporter{position:inherit}.fixedContainer{position:fixed;z-index:2}.mapping-icon-middle-fix{margin-left:18px}#mappingContainer .q-item{background:#a1a1a1;color:#fff}#mappingContainer .q-item:hover{background:#dedede;color:#000}.q-input{padding:0!important;margin:0!important}#mappingContainer input.q-input-target{font-size:13.5px}#fileDropBox{line-height:10em;border:1px dashed gray;text-align:center;color:gray;border-radius:7px;cursor:pointer}.q-if-label-above{top:15px!important}",""])},476:function(e,t,o){var a=o(467);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);o(196)("737a61d2",a,!0)},480:function(e,t){e.exports=[{fromCode:"GL00017",fromDescription:"WBC",toCode:"85025.Z1",toDescription:"White Blood Cells",type:"labcode",mappingId:1},{fromCode:"GL00018",fromDescription:"RBC",toCode:"85025.Z2",toDescription:"Red Blood Cells",type:"labcode",mappingId:2},{fromCode:"GL00020",fromDescription:"Hgb",toCode:"85025.Z3",toDescription:"Hemoglobin",type:"labcode",mappingId:3},{fromCode:"GL00019",fromDescription:"Hct",toCode:"85025.Z4",toDescription:"Hematocrit",type:"labcode",mappingId:4},{fromCode:"GL00024",fromDescription:"MCV",toCode:"85025.Z5",toDescription:"MCV",type:"labcode",mappingId:5},{fromCode:"GL00022",fromDescription:"MCH",toCode:"85025.Z6",toDescription:"MCH",type:"labcode",mappingId:6},{fromCode:"GL00023",fromDescription:"MCHC",toCode:"85025.Z7",toDescription:"MCHC",type:"labcode",mappingId:7},{fromCode:"GL00897",fromDescription:"RDW",toCode:"85025.Z8",toDescription:"RDW",type:"labcode",mappingId:8},{fromCode:"GL00021",fromDescription:"Platelet Count",toCode:"85025.Z9",toDescription:"Platelets",type:"labcode",mappingId:9},{fromCode:"GL01265",fromDescription:"MPV",toCode:"85021.Z10",toDescription:"MPV",type:"labcode",mappingId:10},{fromCode:"GL01304",fromDescription:"nRBC",toCode:"85007.Z29",toDescription:"Nucleated RBCs",type:"labcode",mappingId:11},{fromCode:"GL01034",fromDescription:"Neut %",toCode:"NEUT%",toDescription:"NEUTROPHIL%",type:"labcode",mappingId:12},{fromCode:"GL01155",fromDescription:"Lymhp %",toCode:"LY%",toDescription:"LYMPHOCYTE%",type:"labcode",mappingId:13},{fromCode:"GL00733",fromDescription:"Mono %",toCode:"MO%",toDescription:"MONOCYTE%",type:"labcode",mappingId:14},{fromCode:"GL00550",fromDescription:"EOS %",toCode:"EOS%",toDescription:"EOSINOPHIL%",type:"labcode",mappingId:15}]},481:function(e,t){e.exports=[{label:"",from:{id:1,Name:"AAA Lab",srcCode:"AAA"},to:{id:2,Name:"BBB Lab",srcCode:"BBB"},mapId:1,data:[]},{label:"",from:{id:1,Name:"CCC Lab",srcCode:"CCC"},to:{id:2,Name:"AAA Lab",srcCode:"AAA"},mapId:4,data:[]},{label:"",from:{id:1,Name:"CCC Lab",srcCode:"CCC"},to:{id:2,Name:"DDD Lab",srcCode:"DDD"},mapId:2,data:[]},{label:"",from:{id:1,Name:"BBB Lab",srcCode:"BBB"},to:{id:2,Name:"CCC Lab",srcCode:"CCC"},mapId:3,data:[]}]},488:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"card"},[o("div",{staticClass:"card-content"},[o("div",{staticClass:"flex row"},[o("div",{staticClass:"col"},[o("q-search",{attrs:{chips:"",placeholder:"Lab (start typing to load suggestions)"},on:{blur:function(t){e.emptyIfNotExists(e.labSearchText)}},model:{value:e.labSearchText,callback:function(t){e.labSearchText=t},expression:"labSearchText"}},[o("q-autocomplete",{attrs:{"static-data":{field:"value",list:e.allLabs}},on:{selected:e.selectedLab}})],1)],1)]),e._v(" "),o("div",{staticClass:"flex row"},[o("div",{staticClass:"col-6"},[o("q-select",{attrs:{multiple:"",filter:"",inverted:"",chips:"","float-label":"Source",color:"tertiary",options:e.labOptionsFrom},model:{value:e.selectedLabsFrom,callback:function(t){e.selectedLabsFrom=t},expression:"selectedLabsFrom"}})],1),e._v(" "),o("div",{staticClass:"col"}),e._v(" "),o("div",{staticClass:"col-6"},[o("q-select",{attrs:{multiple:"",filter:"",inverted:"",chips:"","float-label":"Destination",color:"tertiary",options:e.labOptionsTo},model:{value:e.selectedLabsTo,callback:function(t){e.selectedLabsTo=t},expression:"selectedLabsTo"}})],1)])])]),e._v(" "),o("q-card",{attrs:{flat:""}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col justify-end self-center items-right"},[o("q-toggle",{attrs:{"checked-icon":"fa-pencil","unchecked-icon":"fa-eye",color:"primary"},model:{value:e.editMode,callback:function(t){e.editMode=t},expression:"editMode"}})],1)])]),e._v(" "),o("div",{staticClass:"card",attrs:{id:"mappingContainer"}},[o("q-list",{ref:"container",attrs:{separator:""}},e._l(e.mappings,function(t,a){return o("q-collapsible",{key:a,ref:"mappings",refInFor:!0,staticClass:"collapsible-no-padding requisitionContainer",attrs:{group:"mapping",label:t.label,id:t.mapId,color:"tertiary"},on:{open:function(o){e.getMap(t)},close:function(o){e.closeMap(t)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col justify-end self-center items-right"},[o("q-btn",{attrs:{icon:"fa-plus",color:"primary"},on:{click:function(o){e.AddRow(t)}}},[e._v("Add")])],1)]),e._v(" "),o("q-data-table",{ref:"mappingsData",refInFor:!0,attrs:{data:t.data,config:e.mappingConfigs,columns:e.mappingColumns},scopedSlots:e._u([["col-fromCode",function(a){return[e.editMode?o("q-input",{model:{value:t.data[a.row.__index].fromCode,callback:function(e){t.data[a.row.__index].fromCode=e},expression:"map.data[cell.row.__index].fromCode"}}):e._e(),e._v(" "),e.editMode?e._e():o("label",[e._v(e._s(t.data[a.row.__index].fromCode))])]}],["col-fromDescription",function(a){return[e.editMode?o("q-input",{model:{value:t.data[a.row.__index].fromDescription,callback:function(e){t.data[a.row.__index].fromDescription=e},expression:"map.data[cell.row.__index].fromDescription"}}):e._e(),e._v(" "),e.editMode?e._e():o("label",[e._v(e._s(t.data[a.row.__index].fromDescription))])]}],["col-toCode",function(a){return[e.editMode?o("q-input",{model:{value:t.data[a.row.__index].toCode,callback:function(e){t.data[a.row.__index].toCode=e},expression:"map.data[cell.row.__index].toCode"}}):e._e(),e._v(" "),e.editMode?e._e():o("label",[e._v(e._s(t.data[a.row.__index].toCode))])]}],["col-toDescription",function(a){return[e.editMode?o("q-input",{model:{value:t.data[a.row.__index].toDescription,callback:function(e){t.data[a.row.__index].toDescription=e},expression:"map.data[cell.row.__index].toDescription"}}):e._e(),e._v(" "),e.editMode?e._e():o("label",[e._v(e._s(t.data[a.row.__index].toDescription))])]}],["col-type",function(a){return[e.editMode?o("q-input",{model:{value:t.data[a.row.__index].type,callback:function(e){t.data[a.row.__index].type=e},expression:"map.data[cell.row.__index].type"}}):e._e(),e._v(" "),e.editMode?e._e():o("label",[e._v(e._s(t.data[a.row.__index].type))])]}],["col-mappingId",function(a){return[o("q-btn",{attrs:{flat:"",color:"primary"},on:{click:function(o){e.deleteRow(t,a)}}},[o("q-icon",{attrs:{name:"delete"}})],1)]}]])})],1)}))],1),e._v(" "),o("q-modal",{ref:"basicModal",attrs:{"content-css":{padding:"50px",minWidth:"32vw"}},on:{close:function(t){e.modalClosed()},"escape-key":function(t){e.modalClosed()}}},[o("q-tabs",{attrs:{color:"secondary",align:"justify"}},[o("q-tab",{attrs:{default:"",name:"upload",icon:"fa-upload",label:"Upload CSV"},slot:"title"}),e._v(" "),o("q-tab",{attrs:{name:"paste",icon:"fa-clipboard",label:"Paste CSV"},slot:"title"}),e._v(" "),o("q-tab-pane",{attrs:{name:"paste"}},[o("q-input",{attrs:{type:"textarea"},model:{value:e.pastedCsv,callback:function(t){e.pastedCsv=t},expression:"pastedCsv"}})],1),e._v(" "),o("q-tab-pane",{attrs:{name:"upload"}},[o("div",{staticClass:"card"},[o("div",{attrs:{id:"fileDropBox"},on:{dragover:e.dragOver,drop:e.handleFileDrop,click:e.emulateButtonClick}},[e._v("Drop files here.")])]),e._v(" "),o("input",{staticClass:"q-input-target hidden",attrs:{id:"fileInput",type:"file",multiple:"",accept:".csv"},on:{change:e.handleFileSelection}})])],1),e._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"}),e._v(" "),o("q-btn",{staticClass:"justify-end",attrs:{color:"primary",flat:""},on:{click:this.closeModal}},[e._v("\n        Close\n      ")])],1)],1),e._v(" "),o("q-fixed-position",{attrs:{corner:"bottom-left",offset:[18,18]}},[o("q-btn",{staticClass:"animate-pop",attrs:{round:"",color:"primary",icon:"fa-upload"},on:{click:e.openModal}}),e._v(" "),o("q-tooltip",[e._v("Import")])],1),e._v(" "),o("q-fixed-position",{attrs:{corner:"bottom-right",offset:[18,18]}},[o("q-btn",{staticClass:"animate-pop",attrs:{round:"",color:"primary",icon:"save",disabled:e.saveDisabled}}),e._v(" "),o("q-tooltip",[e._v("Update")])],1)],1)},staticRenderFns:[]}}});